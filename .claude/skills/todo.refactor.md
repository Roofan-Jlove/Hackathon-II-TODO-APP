---
description: Refactor TODO app code while maintaining spec compliance and improving architecture quality
---

## User Input

```text
$ARGUMENTS
```

## Instruction

You are refactoring code in the TODO app. Follow disciplined refactoring process:

1. **Pre-Refactor Validation**:
   - Ensure all existing tests pass
   - Document current behavior
   - Identify refactoring goals (performance, readability, maintainability)
   - Verify specs are up to date

2. **Refactoring Plan**:
   - Define specific improvements to make
   - Ensure changes maintain spec compliance
   - Identify architectural improvements
   - Plan for incremental changes

3. **Execution**:
   - Make small, focused changes
   - Run tests after each change
   - Maintain all existing functionality
   - No behavior changes unless spec-approved
   - Update tests only if structure changes, not behavior

4. **Validation**:
   - All original tests still pass
   - Code quality improved (readability, performance, structure)
   - No new bugs introduced
   - Acceptance criteria still met

5. **Documentation**:
   - Document refactoring decisions
   - Update architectural docs if significant
   - Suggest ADR if architecturally significant changes made
   - Create PHR for refactoring session

Coordinate through todo-main-agent to ensure refactoring maintains project standards and constitution compliance.
